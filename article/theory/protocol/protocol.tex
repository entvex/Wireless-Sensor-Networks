\subsection{ARQ stop-and-wait method}\label{th:arq}

The ARQ method is a data link-situated telecommunications scheme between two devices. It ensures that information is not lost due to signal fading, infused noise or other network failures and that frames arrive in a correct order. Multiple types of ARQ includes stop-and-wait, go-back-n and selective-repeat. In this project we will be using stop-and-wait because we only transfer a single packet (a heart rate measurement) from the runner and not a large file, i.e. an image. We will now look at the fundamentals of the method. We assume a network that consists of two nodes, $n_1$ and $n_2$, with $n_1$ sending some sort of data to $n_2$: \newline \\
1. $n_1$ wants to send frames with data $d_i$ to $n_2$. It prepares the first frame $d_0$ and transmits it to $n_2$. As soon as its done sending, $n_1$ starts a timer and expects to get an acknowledge frame (ACK) back from $n_2$ within that time telling $n_1$ that the frame has been correctly received. \newline \\
2. $n_2$ receives the frame and sends a ACK frame back to $n_1$. Now $n_1$ can prepare the next frame $d_0+1$. \newline \\
3. In case $n_2$ fail to acknowledge the frame in time, perhaps due to a network glitch or a faulty frame at the receiving end, the timer at $n_1$ will simply run out and it will retransmit frame $d_0$. \newline \\
\noindent Aside from the ARQ stop-and-wait, we add a redundancy check number or parity bit (0 or 1) to all frames. The receiving node uses this number to verify the integrity of the frame, and does only send back an ACK if the frame passes this test. This adds a level of error-correctness to the ARQ method and helps avoid passing malformed data frames around. Two possible pitfalls exist with this version of ARQ: If the transmission medium has a long latency, the sender's timer could run out before the frame reached the receiver, and if the ACK sent by the receiver is damaged, the whole frame would have to be retransmitted. In both cases the receiver gets the same frame twice. One could use the parity bit to recognize duplicate frames, hence solve these problems. In terms of throughput, stop-and-wait falls by the wayside to go-back-N and selective-repeat because each frame has to be acknowledged separately, but may prove more useful in a noisy environment.
